# 心理咨询模拟系统

这是一个基于Dify AI平台的心理咨询模拟系统，帮助心理咨询师进行朋辈督导练习。系统模拟了"来访者-朋辈咨询师-督导"的完整对话流程。

## 功能特点

- **模拟真实对话**：来访者Agent会模拟真实来访者的言语和情绪
- **实时督导评价**：督导Agent对咨询师的每条回复进行专业评价
- **直观界面**：清晰的对话界面和评价展示
- **历史记录**：保存对话历史和督导评价历史
- **云端部署**：支持Vercel一键部署

## 本地开发

### 环境要求
- Node.js 18.0.0+
- npm 或 yarn

### 安装依赖
```bash
npm install
```

### 启动本地服务器
```bash
npm run dev
```

访问 http://localhost:3000 即可使用系统。

## Vercel部署

### 方法一：通过GitHub自动部署
1. 将代码推送到GitHub仓库
2. 在Vercel官网 (https://vercel.com) 导入项目
3. Vercel会自动检测项目配置并部署

### 方法二：通过Vercel CLI部署
1. 安装Vercel CLI
```bash
npm i -g vercel
```

2. 在项目根目录运行
```bash
vercel --prod
```

3. 按照提示完成部署配置

### 部署配置
项目已包含以下部署配置文件：
- `vercel.json`：Vercel部署配置
- `package.json`：项目依赖和构建脚本
- `.gitignore`：Git忽略文件

## 使用方法

1. **打开系统**：在浏览器中打开 `index.html` 文件

2. **开始对话**：
   - 点击"开始新的对话"按钮
   - 系统会自动连接来访者Agent
   - 来访者会开始对话

3. **进行对话**：
   - 在输入框中输入你的回复
   - 点击"发送"或按回车键发送
   - 系统会自动：
     - 发送你的回复给来访者
     - 获取督导对你的回复的评价
     - 获取来访者的下一条回复

4. **查看督导评价**：
   - 每次发送回复后，督导会给出评价
   - 评价包含：综合得分、总体评价、具体建议
   - 可以在右侧面板查看当前和历史评价

## 系统架构

### 文件结构
```
seeker_simulation/
├── index.html          # 主页面
├── styles.css         # 样式文件
├── script.js          # 核心逻辑
├── proxy-server.js    # 本地代理服务器 / Vercel无服务器函数
├── vercel.json        # Vercel部署配置
├── package.json       # 项目配置
├── .gitignore         # Git忽略文件
├── 接口文档.md        # API配置
└── README.md          # 使用说明
```

### API配置
系统使用两个Dify Agent：
- **来访者Agent**：模拟来访者行为和言语
- **督导Agent**：对咨询师回复进行专业评价

### 对话流程
1. 点击"开始新的对话"
2. 来访者Agent发送初始消息
3. 咨询师输入回复
4. 督导Agent评价咨询师回复
5. 来访者Agent根据咨询师回复做出响应
6. 重复步骤3-5

## 技术特点

- **混合部署**：支持本地开发和云端部署
- **实时响应**：异步处理API调用，保证用户体验
- **错误处理**：完善的错误处理和用户提示
- **响应式设计**：适配不同屏幕尺寸
- **CORS支持**：解决跨域访问问题

## 注意事项

1. 确保网络连接正常，API调用需要联网
2. 首次使用可能需要等待API响应
3. 建议在Chrome、Firefox等现代浏览器中使用
4. 如遇到连接问题，请检查API配置是否正确

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 使用建议

1. **认真对待每次对话**：把它当作真实的咨询场景
2. **关注督导建议**：及时根据督导建议调整咨询技巧
3. **记录学习要点**：定期回顾历史评价，总结经验
4. **持续练习**：多练习不同类型的来访者和问题

## 部署注意事项

1. 确保所有依赖都正确配置
2. API密钥等敏感信息应通过环境变量配置
3. 首次部署可能需要等待几分钟

---

如有问题或建议，请联系开发者。